<!DOCTYPE html>
<html lang="pl">
<head>
	<title>units</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
	<link href="style.css" rel="stylesheet">
</head>
<body class="bg-light">
<div class="row g-5">
	<div class="col-md-2">
		<ul>
<li><a href="../lekarze">Lekarze</a></li>
<li><a href="../linki">Linki</a></li>
<li><a href="../chlopcy">Chłopcy</a></li>
<li><a href="../dziewczynki">Dziewczynki</a></li>
<li><a href="../units">Jednostki</a></li>
</ul>

	</div>
	<article class="col-md-8">
		<p>Estradiol (E2)</p>
<div id="e2">
<label>
<input name="source" type="text"/>
pmol/l
</label>
<button><></button>
<label>
<input name="target" type="text"/>
pg/ml
</label>
<button>Reset</button>
</div>
<p>Testosteron (TST)</p>
<div id="tst">
<label>
<input name="source" type="text"/>
nmol/l
</label>
<button><></button>
<label>
<input name="target" type="text"/>
ng/ml
</label>
<button>Reset</button>
</div>
<p><a href="http://unitslab.com/">Więcej</a></p>
<script>
function attachConversion(divElement, ratio) {
  let sourceInput;
  let targetInput;
  let convertButton;
  let resetButton;
  for(const el of divElement.getElementsByTagName("input")) {
    if(el.name === 'source') {
      sourceInput = el;
    }
    if(el.name === 'target') {
      targetInput = el;
    }
  }
  for(const el of divElement.getElementsByTagName("button")) {
    if(el.innerText === '<>') {
      convertButton = el;
    }
    if(el.innerText === 'Reset') {
      resetButton = el;
    }
  }

  resetButton.addEventListener("click", () => {
    sourceInput.value = "";
    targetInput.value = "";
  });

  convertButton.addEventListener("click", () => {
    let s = sourceInput.value.replace(",", ".").trim();
    let t = targetInput.value.replace(",", ".").trim();
    if(s && !t) {
       targetInput.value = (parseFloat(s)/ratio).toFixed(2);
    }
    if(!s && t) {
       sourceInput.value = (ratio/parseFloat(t)).toFixed(2);
    }
  });
}

attachConversion(document.getElementById("e2"), 100000/27238);
attachConversion(document.getElementById("tst"), 100000/28842);
</script>

	</article>
</div>
</body>
</html>